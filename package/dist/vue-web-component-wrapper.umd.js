(function(c,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],i):(c=typeof globalThis<"u"?globalThis:c||self,i(c.Vue3WebComponentWrapper={},c.Vue))})(this,function(c,i){"use strict";var ee=Object.defineProperty;var te=(c,i,O)=>i in c?ee(c,i,{enumerable:!0,configurable:!0,writable:!0,value:O}):c[i]=O;var E=(c,i,O)=>te(c,typeof i!="symbol"?i+"":i,O);/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/process.env.NODE_ENV!=="production"&&Object.freeze({}),process.env.NODE_ENV!=="production"&&Object.freeze([]);const O=Object.assign,x=Array.isArray,q=e=>typeof e=="string",D=e=>{const a=Object.create(null);return t=>a[t]||(a[t]=e(t))},z=/-(\w)/g,L=D(e=>e.replace(z,(a,t)=>t?t.toUpperCase():"")),k=/\B([A-Z])/g,w=D(e=>e.replace(k,"-$1").toLowerCase()),C=e=>{const a=q(e)?Number(e):NaN;return isNaN(a)?e:a};/*!#__NO_SIDE_EFFECTS__*/function R(e,a,t){const s=i.defineComponent(e);class o extends j{constructor(r){super(s,r,a,t)}}return E(o,"def",s),o}const F=typeof HTMLElement<"u"?HTMLElement:class{};class j extends F{constructor(t,s={},o={shadowRoot:!0},n){super();E(this,"_instance",null);E(this,"_connected",!1);E(this,"_resolved",!1);E(this,"_numberProps",null);E(this,"_styles");E(this,"_slots",{});E(this,"_ob",null);this._def=t,this._props=s,this._config=o,this._root&&n?n(this._createVNode(),this._root):(this._config.shadowRoot!==!1&&this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}get _root(){return this._config.shadowRoot?this.shadowRoot:this}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,i.nextTick(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),i.render(null,this._root),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let o=0;o<this.attributes.length;o++)this._setAttr(this.attributes[o].name);this._ob=new MutationObserver(o=>{for(const n of o)this._setAttr(n.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(o,n=!1)=>{var N;const{props:r}=o,_=this._collectNestedStyles(o);let y;if(r&&!x(r))for(const f in r){const l=r[f];(l===Number||l&&l.type===Number)&&(f in this._props&&(this._props[f]=C(this._props[f])),(y||(y=Object.create(null)))[L(f)]=!0)}if(this._numberProps=y,n&&this._resolveProps(o),!this._config.shadowRoot){this._slots={};const f=l=>Array.from(l).map(p=>{var u;if(p.nodeType===Node.ELEMENT_NODE){const b=p,g=Object.fromEntries(Array.from(b.attributes).map(A=>[A.name,A.value]));return i.h(b.tagName.toLowerCase(),g,f(b.childNodes))}else if(p.nodeType===Node.TEXT_NODE)return((u=p.textContent)==null?void 0:u.trim())||null;return null}).filter(p=>p!=null);for(const l of Array.from(this.childNodes)){const p=l.nodeType===Node.ELEMENT_NODE&&l.getAttribute("slot")||"default";if(this._slots[p]||(this._slots[p]=[]),l.nodeType===Node.ELEMENT_NODE){const u=l,b=Object.fromEntries(Array.from(u.attributes).map(g=>[g.name,g.value]));this._slots[p].push(i.h(u.tagName.toLowerCase(),b,f(u.childNodes)))}else if(l.nodeType===Node.TEXT_NODE){const u=(N=l.textContent)==null?void 0:N.trim();u&&this._slots[p].push(u)}}this.replaceChildren()}this._applyStyles(_),this._update()},s=this._def.__asyncLoader;s?s().then(o=>t(o,!0)):t(this._def)}_resolveProps(t){const{props:s}=t,o=x(s)?s:Object.keys(s||{});for(const n of Object.keys(this))n[0]!=="_"&&o.includes(n)&&this._setProp(n,this[n],!0,!1);for(const n of o.map(L))Object.defineProperty(this,n,{get(){return this._getProp(n)},set(r){this._setProp(n,r)}})}_setAttr(t){let s=this.hasAttribute(t)?this.getAttribute(t):void 0;const o=L(t);this._numberProps&&this._numberProps[o]&&(s=C(s)),this._setProp(o,s,!1)}_getProp(t){return this._props[t]}_setProp(t,s,o=!0,n=!0){s!==this._props[t]&&(this._props[t]=s,n&&this._instance&&this._update(),o&&(s===!0?this.setAttribute(w(t),""):typeof s=="string"||typeof s=="number"?this.setAttribute(w(t),s+""):s||this.removeAttribute(w(t))))}_update(){i.render(this._createVNode(),this._root)}_createVNode(){const t=i.createVNode(this._def,O({},this._props),this._slots);return this._instance||(t.ce=s=>{this._instance=s,s.isCE=!0;const o=(r,_)=>{this.dispatchEvent(new CustomEvent(r,{detail:_}))};s.emit=(r,..._)=>{o(r,_),w(r)!==r&&o(w(r),_)};let n=this;for(;n=n&&(n.parentNode||n.host);)if(n instanceof j){s.parent=n._instance,s.provides=n._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(s=>{const o=document.createElement("style");o.textContent=s,this._root.prepend(o)})}_collectNestedStyles(t){let s=t.styles??[];return t.components&&Object.values(t.components).forEach(o=>{s=s.concat(this._collectNestedStyles(o))}),s}}const $=e=>{for(;(e==null?void 0:e.nodeType)!==1;){if(!e.parentElement)throw new Error("No parent element found, the rootComponent must be wrapped in a HTML element (e.g. <template><div> app content </div></template>)");e=e.parentElement}return e};function G(e){return"on"+e.charAt(0).toUpperCase()+e.slice(1)}function X(e){return typeof e=="string"?e.replace(/:root/g,":host"):Array.isArray(e)?e.map(a=>a.replace(/:root/g,":host")):e}const M=({rootComponent:e,plugins:a,cssFrameworkStyles:t,VueDefineCustomElement:s,h:o,createApp:n,getCurrentInstance:r,elementName:_,disableRemoveStylesOnUnmount:y,disableShadowDOM:N,replaceRootWithHostInCssFramework:f,asyncInitialization:l,loaderAttribute:p,hideSlotContentUntilMounted:u})=>{const b=N?R:s,g=f?X(t):t,A=b({styles:[g],props:{...e.props,modelValue:{type:[String,Number,Boolean,Array,Object]}},emits:e==null?void 0:e.emits,setup(I,{slots:Z}){var B;const V=[...(e==null?void 0:e.emits)||[],"update:modelValue"],m=n();if(m.component("app-root",e),e.provide){const d=typeof e.provide=="function"?e.provide():e.provide;Object.keys(d).forEach(h=>{m.provide(h,d[h])})}m.mixin({mounted(){var S,P,K,U;if(((P=(S=this.$)==null?void 0:S.type)==null?void 0:P.name)==="vue-custom-element-root-component")return;const d=v=>{v!=null&&v.length&&(this.__style=document.createElement("style"),this.__style.innerText=v.join().replace(/\n/g,""),$(this.$el).append(this.__style))};if(d((K=this.$)==null?void 0:K.type.styles),this.$options.components)for(const v of Object.values(this.$options.components))d(v.styles);const h=((U=this.$el.getRootNode())==null?void 0:U.host)||$(this.$el);h&&(console.log("hideSlotContentUntilMounted",u),u&&(console.log("hideSlotContentUntilMounted",u),h.querySelectorAll("[hidden]").forEach(Y=>{Y.removeAttribute("hidden")})),h.querySelectorAll(`[${p}]`).forEach(W=>{W.remove()}))},unmounted(){var d;y||(d=this.__style)==null||d.remove()}}),m.use(a);const T=r();if(Object.assign(T.appContext,m._context),Object.assign(T.provides,m._context.provides),process.env.NODE_ENV==="development"&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__){const d=document.querySelector(_);m._container=d,m._instance=T;const h={Comment:Symbol("v-cmt"),Fragment:Symbol("v-fgt"),Static:Symbol("v-stc"),Text:Symbol("v-txt")};window.__VUE_DEVTOOLS_GLOBAL_HOOK__.emit("app:init",m,m.version,h),window.__VUE_DEVTOOLS_GLOBAL_HOOK__.Vue=m}const J=V==null?void 0:V.reduce((d,h)=>{const S=G(h);return d[S]=P=>{T.emit(h,P)},d},{}),Q=(B=e==null?void 0:e.namedSlots)==null?void 0:B.reduce((d,h)=>(d[h]=()=>o("slot",{name:h}),d),{});return()=>o(e,{...I,...J},{default:()=>o("slot"),...Q,...Z})}},N&&{shadowRoot:!1});return l().then(()=>A)},H=({elementName:e,rootComponent:a,plugins:t,cssFrameworkStyles:s,VueDefineCustomElement:o,h:n,createApp:r,getCurrentInstance:_,disableRemoveStylesOnUnmount:y=!1,disableShadowDOM:N=!1,replaceRootWithHostInCssFramework:f=!1,asyncInitialization:l=()=>Promise.resolve(),loaderAttribute:p="data-web-component-loader",hideSlotContentUntilMounted:u=!1})=>{if(!a){console.warn("No root component provided. Please provide a root component to create a web component.");return}if(!e){console.warn("No element name provided. Please provide an element name to create a web component.");return}if(!o){console.warn("No VueDefineCustomElement provided. Please provide a VueDefineCustomElement to create a web component.");return}if(!n){console.warn("No h provided. Please provide an h to create a web component.");return}if(!r){console.warn("No createApp provided. Please provide a createApp to create a web component.");return}if(!_){console.warn("No getCurrentInstance provided. Please provide a getCurrentInstance to create a web component.");return}M({rootComponent:a,plugins:t,cssFrameworkStyles:s,VueDefineCustomElement:o,h:n,createApp:r,getCurrentInstance:_,elementName:e,disableRemoveStylesOnUnmount:y,disableShadowDOM:N,replaceRootWithHostInCssFramework:f,asyncInitialization:l,loaderAttribute:p,hideSlotContentUntilMounted:u}).then(b=>{customElements.define(e,b)})};c.createWebComponent=H,c.default=H,c.defineCustomElement=M,c.defineCustomElementSFC=R,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
